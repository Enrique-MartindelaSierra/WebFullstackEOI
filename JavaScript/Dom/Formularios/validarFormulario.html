<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8">
	<title>Ejercicio Formularios DOM_EVENTOS</title>
	<style>
		body{
			font-size:20px;
			background-color:grey;
		}
		form,h2,h3{
			background-color:bisque;
			width:50%;
			margin-left:auto;
			margin-right:auto;		
		}
	</style>
	<script>
		function validarNombre(){
			let f=document.formulario;
			
			if(f.nombre.value==""){
				f.nombre.setCustomValidity("Error!, el nombre no puede ser vacío");			
			}else{
				f.nombre.setCustomValidity("")
				if(f.nombre.value.length<=5){
					f.nombre.setCustomValidity("Error!, el nombre tiene que tener al menos más de 5 caracteres");
				}else
				f.nombre.setCustomValidity("")
			}

		}
		function validarApellidos(){
			let f=document.formulario;
			if(f.apellidos.value==""){
				f.apellidos.setCustomValidity("Error!, apellidos no puede ser vacío");
				
			}else{
			f.apellidos.setCustomValidity("")
			if(f.apellidos.value.length<=10){
				f.apellidos.setCustomValidity("Error!, apellidos tiene que tener al menos más de 10 caracteres");
					
			}else
			f.apellidos.setCustomValidity("")
			}
		}
			function validarCheckbox(){
				let f=document.formulario;
			if(!f.informacion.checked){
				f.informacion.setCustomValidity("Error el checkbox de información debe marcarse");
		
			}else
			f.informacion.setCustomValidity("")
		}

		window.onload=function(){
			let f=document.formulario;
		//	f.onsubmit=validar;
		f.nombre.setCustomValidity("Error!, el nombre no puede ser vacío");
		f.apellidos.setCustomValidity("Error!, apellidos no puede ser vacío");
			f.nombre.oninput = validarNombre;
			f.apellidos.oninput =validarApellidos;
			f.informacion.addEventListener("click",validarCheckbox);
			
			//document.formulario.nombre.setCustomValidity("Error el nombre no puede estar vacío");
			//f.nombre.oninput=validarNombre;
		}
		
	</script>
</head>
<body>
	<h2>EJERCICIO 3 FORMULARIO</h2>

	<h3>Formulario de registro</h3>
	<form name="formulario" method="get" action="pagina2.html">
		<fieldset>
			<legend>
				Datos usuario:
			</legend>

			<p>
			<label>Nombre: <input type="text" name="nombre" maxlength="50" ></label>
			</p>

			<p>
				<label>Apellidos: <input type="text" name="apellidos" maxlength="50"></label>
			</p>

			<p>
				Sexo: <label><input type="radio" name="sexo" value="hombre">Hombre</label>
				<label><input type="radio" name="sexo" value="mujer">Mujer</label>
			</p>

			<p>
				Correo: <label><input type="text" name="correo"></label>
			</p>

			<p>
				Rol:<label>
						<select name="rol" id="rol">

							<option value="">--Elige una opción--</option>
							<option value="estudiante">Estudiante</option>
							<option value="profesor">Profesor</option>
							<option value="ayudante">Ayudante</option>
							<option value="administrador">Administrador</option>
						</select>
				 	</label>
			</p>
		</fieldset>
		
		<fieldset>
			<legend>
				Acciones:
			</legend>
			<p>
			<label><input type="checkbox" name="informacion" value="informacion" checked>Deseo recibir información sobre novedades y ofertas</label>
			</p>
			<p>
				<label><input type="checkbox" name="condiciones" value="condiciones" >Declaro haber leido y aceptar las condiciones generales del programa y la normativa sobre protección de datos</label>
			</p>

			<p>
				<button type="submit" value="enviar">Enviar</button>
				<button type="reset" value="borrar">Borrar</button>
			</p>

		</fieldset>
		
			
	</form>

</body>
</html>